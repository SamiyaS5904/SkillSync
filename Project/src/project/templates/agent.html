{% extends "base.html" %}

{% block title %}AI Agent - SkillSync{% endblock %}

{% block content %}
<section class="max-w-3xl mx-auto text-center">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Your AI Learning Assistant</h2>

  <!-- Input -->
  <div class="bg-white shadow rounded-2xl p-6">
    <label for="goalInput" class="block text-lg font-medium text-gray-700 mb-2">Whatâ€™s your goal?</label>
    <div class="flex items-center border rounded-lg overflow-hidden">
      <input id="goalInput" type="text" placeholder="e.g., Become a Data Scientist" class="flex-1 px-4 py-3 focus:outline-none">
      <button id="micBtn" class="px-4 bg-indigo-600 text-white hover:bg-indigo-700">ðŸŽ¤</button>
    </div>
    <button id="generateBtn" class="mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Generate Plan</button>
  </div>

  <!-- Agent Response -->
  <div id="agentResponse" class="hidden mt-8 bg-indigo-50 border border-indigo-200 rounded-2xl p-6 text-left shadow">
    <h3 class="text-xl font-semibold text-indigo-700 mb-2">Your AI Agent says:</h3>
    <p id="responseText" class="text-gray-700 mb-4">Processing your goal...</p>

    <h4 class="font-medium text-gray-800">Suggested Playlists:</h4>
    <ul class="list-disc list-inside text-gray-600 mt-1 mb-4">
      <li>Intro to Data Science</li>
      <li>Python Basics</li>
      <li>SQL Essentials</li>
    </ul>

    <h4 class="font-medium text-gray-800">Roadmap:</h4>
    <ol class="list-decimal list-inside text-gray-600 mt-1">
      <li>Learn Python</li>
      <li>Data Cleaning & Analysis</li>
      <li>SQL for Data</li>
      <li>Build 2 Projects</li>
    </ol>
  </div>
</section>

<script>
  const micBtn = document.getElementById('micBtn');
  const goalInput = document.getElementById('goalInput');
  const generateBtn = document.getElementById('generateBtn');
  const agentResponse = document.getElementById('agentResponse');
  const responseText = document.getElementById('responseText');

  if ('webkitSpeechRecognition' in window) {
    const recognition = new webkitSpeechRecognition();
    recognition.lang = 'en-US';
    recognition.onresult = (event) => {
      goalInput.value = event.results[0][0].transcript;
    };
    micBtn.addEventListener('click', () => recognition.start());
  }

  generateBtn.addEventListener('click', () => {
    const goal = goalInput.value.trim();
    if (goal) {
      agentResponse.classList.remove('hidden');
      responseText.textContent = `Great choice! Let's create a roadmap for: \"${goal}\"`;
    }
  });
</script>
{% endblock %}
