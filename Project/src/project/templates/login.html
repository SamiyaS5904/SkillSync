<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkillSync | Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gray-900 font-sans">

  <!-- Glass Card -->
  <div class="relative w-full max-w-md overflow-hidden rounded-2xl shadow-2xl bg-white/10 backdrop-blur-xl border border-white/20">
    <div id="forms" class="flex w-[200%] transform transition-transform duration-500 ease-in-out">

      <!-- Login Form -->
      <div class="w-1/2 p-8" id="loginForm">
        <h2 class="text-3xl font-bold text-center text-white mb-6">Welcome Back</h2>
        <form action="{{ url_for('login') }}" method="POST" class="space-y-4">
          <input type="email" name="email" placeholder="Email" required 
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-indigo-400"/>
          
          <input type="password" name="password" placeholder="Password" required 
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-indigo-400"/>
          
          <button type="submit" 
                  class="w-full py-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 
                         text-white font-semibold shadow-lg hover:scale-105 transition">
            Login
          </button>
        </form>
        <p class="text-center text-sm text-gray-300 mt-4">
          Don’t have an account? 
          <a href="#" id="showSignup" class="text-yellow-400 hover:underline">Sign up</a>
        </p>
      </div>

      <!-- Signup Form -->
      <div class="w-1/2 p-8" id="signupForm">
        <h2 class="text-3xl font-bold text-center text-white mb-6">Join SkillSync</h2>
        <form action="{{ url_for('signup') }}" method="POST" class="space-y-4">
          
          <input type="text" name="name" placeholder="Full Name" required
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-purple-400"/>
          
          <input type="email" name="email" placeholder="Email" required
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-purple-400"/>
          
          <input type="password" id="password" name="password" placeholder="Password" required
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-purple-400"/>
          
          <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm Password" required
                 class="w-full px-4 py-2 rounded-lg bg-white/10 text-white placeholder-gray-300 
                        focus:outline-none focus:ring-2 focus:ring-purple-400"/>
          
          <p id="passwordError" class="text-red-400 text-sm hidden mt-1">
            Password must be 8+ chars, include uppercase, lowercase, number & special char.
          </p>

          <button type="submit"
                  class="w-full py-2 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 
                         text-white font-semibold shadow-lg hover:scale-105 transition">
            Sign Up
          </button>
        </form>

        <p class="text-center text-sm text-gray-300 mt-4">
          Already have an account? 
          <a href="#" id="showLogin" class="text-yellow-400 hover:underline">Login</a>
        </p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="absolute bottom-4 text-center text-gray-500 text-sm">
    © 2025 SkillSync. All rights reserved.
  </div>

  <!-- Toggle Script -->
  <script>
    const forms = document.getElementById('forms');
    document.getElementById('showSignup').onclick = (e) => {
      e.preventDefault();
      forms.style.transform = "translateX(-50%)"; // slide to signup
    };
    document.getElementById('showLogin').onclick = (e) => {
      e.preventDefault();
      forms.style.transform = "translateX(0)"; // slide back to login
    };

    // Password validation
    const password = document.getElementById("password");
    const confirmPassword = document.getElementById("confirm_password");
    const error = document.getElementById("passwordError");

    function validatePassword() {
      const value = password.value;
      const strongRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

      if (!strongRegex.test(value)) {
        error.textContent = "Password must be 8+ chars, include uppercase, lowercase, number & special char.";
        error.classList.remove("hidden");
        return false;
      } else {
        error.classList.add("hidden");
        return true;
      }
    }

    confirmPassword.addEventListener("input", () => {
      if (confirmPassword.value !== password.value) {
        error.textContent = "Passwords do not match!";
        error.classList.remove("hidden");
      } else {
        validatePassword();
      }
    });

    password.addEventListener("input", validatePassword);
  </script>
</body>
</html>
